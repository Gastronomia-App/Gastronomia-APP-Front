<div class="page-container">
  <div class="page-content">
    @if (loading()) {
      <p>Cargando ubicaciones...</p>
    } @else if (error()) {
      <p class="error">{{ error() }}</p>
    } @else if (seatings().length > 0) {
      <app-seating-status-view
        [seatings]="seatings()"
        (select)="onSelectSeating($event)">
      </app-seating-status-view>
    } @else {
      <p>No hay ubicaciones registradas en el sal√≥n.</p>
    }
  </div>

  <!-- Aside panel for order form or order items -->
  @if (currentMode() !== 'none' && selectedSeating()) {
    <aside class="aside-panel seating-aside">
      <div class="aside-panel-wrapper">
        @if (currentMode() === 'createOrder') {
          <app-order-form
            [seatingId]="selectedSeating()!.id"
            (orderCreated)="onOrderCreated()"
            (orderClosed)="onOrderClosed()">
          </app-order-form>
        } @else if (currentMode() === 'orderItems' && selectedSeating()?.activeOrder) {
          <app-order-items-form
            [order]="selectedSeating()!.activeOrder!"
            (orderClosed)="onOrderItemsClosed()"
            (orderUpdated)="onOrderUpdated()">
          </app-order-items-form>
        }
      </div>
    </aside>
  }
</div>