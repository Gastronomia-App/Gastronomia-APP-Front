<div class="aside-panel-wrapper">
  @if (seating()) {
    <app-form
      [config]="formConfig()"
      [isEditMode]="mode() === 'edit'"
      [initialData]="seating()!"
      [showHeader]="true"
      [showFooter]="true"
      [headerTitle]="mode() === 'create' ? 'Nueva ubicación' : 'Editar ubicación'"
      [submitButtonLabel]="mode() === 'create' ? 'Crear ubicación' : 'Guardar'"
      (formSubmit)="onSubmit($event)"
      (formCancel)="onCancel()"
      (formClose)="onClose()">
    </app-form>

    @if (mode() === 'edit') {
      <div class="delete-bar">
        <button type="button" class="btn-delete" (click)="showConfirm.set(true)">
          Eliminar ubicación
        </button>
      </div>
    }

    @if (showConfirm()) {
      <app-confirm
        [title]="'Eliminar ubicación'"
        [message]="'¿Estás seguro de eliminar la ubicación N°' + seating()?.number + '?'"
        confirmLabel="Eliminar"
        cancelLabel="Cancelar"
        variant="danger"
        (onConfirm)="onDeleteConfirmed()"
        (onCancel)="showConfirm.set(false)" />
    }
  }

  @if (showAlert()) {
    <app-alert
      [title]="alertTitle()"
      [message]="alertMessage()"
      [details]="alertDetails()"
      confirmLabel="Aceptar"
      detailsLabel="Detalles"
      (onConfirm)="showAlert.set(false)" />
  }
</div>
