<div class="aside-panel-wrapper">
  @if (seating()) {
    <app-form
      [config]="formConfig()"
      [isEditMode]="mode() === 'edit'"
      [initialData]="seating()!"
      [showHeader]="true"
      [showFooter]="true"
      [headerTitle]="mode() === 'create' ? 'Nueva mesa' : 'Editar mesa'"
      [submitButtonLabel]="mode() === 'create' ? 'Crear mesa' : 'Guardar'"
      (formSubmit)="onSubmit($event)"
      (formCancel)="onCancel()"
      (formClose)="onClose()"
    ></app-form>

    @if (mode() === 'edit') {
      <div class="delete-bar">
        <button type="button" class="btn-delete" (click)="showConfirm.set(true)">
          Eliminar mesa
        </button>
      </div>
    }

    @if (showConfirm()) {
      <app-confirm
        [title]="'Eliminar mesa'"
        [message]="'Â¿EstÃ¡s seguro de eliminar la mesa NÂ°' + seating()?.number + '?'"
        confirmLabel="Eliminar"
        cancelLabel="Cancelar"
        variant="danger"
        (onConfirm)="onDeleteConfirmed()"
        (onCancel)="showConfirm.set(false)"
      />
    }
  }

  <!-- ðŸ”¹ Alert genÃ©rica -->
  @if (showAlert()) {
    <app-alert
      [title]="alertTitle()"
      [message]="alertMessage()"
      [details]="alertDetails()"
      confirmLabel="Aceptar"
      detailsLabel="Detalles"
      (onConfirm)="showAlert.set(false)"
    />
  }
</div>
