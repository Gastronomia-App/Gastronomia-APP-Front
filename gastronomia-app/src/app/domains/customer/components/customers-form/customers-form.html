<aside class="aside-form">
  <!-- üîπ Encabezado -->
  <header class="aside-header flex justify-between align-center">
    <h2>{{ customer ? 'Editar Cliente' : 'Nuevo Cliente' }}</h2>
     <button class="btn-reset" (click)="cancel.emit()">‚úï</button>
  </header>



  <!-- üîπ √çcono superior -->
  <div class="form-icon">
    <img src="assets/images/user-icon.png" alt="user-icon" />
  </div>

  <hr class="form-divider" />

  <!-- üîπ Formulario reactivo -->
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="aside-content">
    
    <fieldset>
      <label>Nombre</label>
      <input formControlName="name" type="text" placeholder="Ej. Juan" />
      @if (form.get('name')?.touched && form.get('name')?.invalid) {
        <small class="error">El nombre es obligatorio y debe tener entre 1 y 50 caracteres.</small>
      }
    </fieldset>

    <fieldset>
      <label>Apellido</label>
      <input formControlName="lastName" type="text" placeholder="Ej. P√©rez" />
      @if (form.get('lastName')?.touched && form.get('lastName')?.invalid) {
        <small class="error">El apellido es obligatorio y debe tener entre 1 y 50 caracteres.</small>
      }
    </fieldset>

    <fieldset>
      <label>DNI</label>
      <input formControlName="dni" type="text" placeholder="Ej. 12345678" />
      @if (form.get('dni')?.touched && form.get('dni')?.invalid) {
        <small class="error">Debe tener entre 7 y 8 d√≠gitos num√©ricos.</small>
      }
    </fieldset>

    <fieldset>
      <label>Tel√©fono</label>
      <input formControlName="phoneNumber" type="text" placeholder="Ej. 541112345678" />
      @if (form.get('phoneNumber')?.touched && form.get('phoneNumber')?.invalid) {
        <small class="error">Debe tener entre 10 y 13 d√≠gitos num√©ricos.</small>
      }
    </fieldset>

    <fieldset>
      <label>Email</label>
      <input formControlName="email" type="email" placeholder="Ej. juan.perez@correo.com" />
      @if (form.get('email')?.touched && form.get('email')?.invalid) {
        <small class="error">Debe tener un formato v√°lido (ejemplo@dominio.com).</small>
      }
    </fieldset>

    <fieldset>
      <label>Descuento (%)</label>
      <input formControlName="discount" type="number" min="0" max="100" placeholder="Ej. 10" />
      @if (form.get('discount')?.touched && form.get('discount')?.invalid) {
        <small class="error">Debe estar entre 0 y 100.</small>
      }
    </fieldset>

    <!-- üîπ Bot√≥n limpiar -->
    <div class="form-clear">
      <button
        type="button"
        class="clear-icon"
        (click)="onClearForm()"
        title="Limpiar formulario"
      >
        <img src="assets/images/clear-icon.png" alt="clear-icon" />
      </button>
    </div>
  </form>

  <!-- üîπ Footer de acciones -->
  <div class="aside-footer">
    <button type="button" class="secondary" (click)="cancel.emit()">Cancelar</button>
    <button type="submit" [disabled]="form.invalid" (click)="onSubmit()">
      {{ customer ? 'Guardar Cambios' : 'Crear Cliente' }}
    </button>
  </div>
</aside>