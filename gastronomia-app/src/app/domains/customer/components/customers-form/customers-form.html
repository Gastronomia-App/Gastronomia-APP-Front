<section class="customer-form">
  <div>
    <h3>{{ customer ? 'Editar Cliente' : 'Nuevo Cliente' }}</h3>
  </div>

  <div class="form-icon">
    <img src="assets/images/user-icon.png" alt="user-icon">
  </div>

  <hr class="form-divider" />

  <div class="form-container">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      
      <div class="form-group">
        <label>Nombre</label>
        <input formControlName="name" type="text" placeholder="Ej. Juan" />
        @if (form.get('name')?.touched && form.get('name')?.invalid) {
          <small class="error">
            El nombre es obligatorio y debe tener entre 1 y 50 caracteres.
          </small>
        }
      </div>

      <div class="form-group">
        <label>Apellido</label>
        <input formControlName="lastName" type="text" placeholder="Ej. Pérez" />
        @if (form.get('lastName')?.touched && form.get('lastName')?.invalid) {
          <small class="error">
            El apellido es obligatorio y debe tener entre 1 y 50 caracteres.
          </small>
        }
      </div>

      <div class="form-group">
        <label>DNI</label>
        <input formControlName="dni" type="text" placeholder="Ej. 12345678" />
        @if (form.get('dni')?.touched && form.get('dni')?.invalid) {
          <small class="error">Debe tener entre 7 y 8 dígitos numéricos.</small>
        }
      </div>

      <div class="form-group">
        <label>Teléfono</label>
        <input formControlName="phoneNumber" type="text" placeholder="Ej. 541112345678" />
        @if (form.get('phoneNumber')?.touched && form.get('phoneNumber')?.invalid) {
          <small class="error">
            Debe tener entre 10 y 13 dígitos numéricos.
          </small>
        }
      </div>

      <div class="form-group">
        <label>Email</label>
        <input formControlName="email" type="email" placeholder="Ej. juan.perez@correo.com" />
        @if (form.get('email')?.touched && form.get('email')?.invalid) {
          <small class="error">
            Debe tener un formato válido (ejemplo@dominio.com).
          </small>
        }
      </div>

      <div class="form-group">
        <label>Descuento (%)</label>
        <input formControlName="discount" type="number" min="0" max="100" placeholder="Ej. 10" />
        @if (form.get('discount')?.touched && form.get('discount')?.invalid) {
          <small class="error">Debe estar entre 0 y 100.</small>
        }
      </div>

      <div class="form-clear">
        <button
          type="button"
          class="clear-icon"
          (click)="onClearForm()"
          title="Limpiar formulario"
        >
          <img src="assets/images/clear-icon.png" alt="clear-icon" />
        </button>
      </div>
    </form>
  </div>

  <div class="form-actions">
    <button type="button" class="submit" (click)="onSubmit()">
      {{ customer ? 'Guardar Cambios' : 'Crear Cliente' }}
    </button>

    <button type="button" class="cancel" (click)="cancel.emit()">
      Cancelar
    </button>
  </div>
</section>