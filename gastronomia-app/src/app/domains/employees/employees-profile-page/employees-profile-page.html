<div class="page-container profile-page">
    <div class="page-content">
        <!-- Page header -->
        <header class="page-header">
            <div class="page-header-icon">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-4 0-8 2-8 6v2h16v-2c0-4-4-6-8-6Z" />
                </svg>
            </div>
            <div class="page-header-text">
                <h1>Mi Perfil</h1>
                <p>Gestiona tu información personal y configuración de cuenta</p>
            </div>
        </header>

        <div class="layout-grid">
            <!-- Left column: profile card + account info -->
            <div class="left-area">
                <app-employees-info [refresh]="refreshSignal()"></app-employees-info>
            </div>

            <!-- Right column: edit card + tips -->
            <aside class="right-area">
                <!-- Edit card -->
                <section class="edit-card">
                    <header>
                        <div class="edit-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"
                                fill="currentColor">
                                <path
                                    d="M4 3h10a1 1 0 0 1 0 2H5v14h14v-9a1 1 0 0 1 2 0v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z" />
                                <path
                                    d="M20.707 2.293a1 1 0 0 0-1.414 0l-8.586 8.586a1 1 0 0 0-.263.465l-1 4a1 1 0 0 0 1.213 1.213l4-1a1 1 0 0 0 .465-.263l8.586-8.586a1 1 0 0 0 0-1.414l-3-3zM14.121 10L16 11.879 18.879 9 17 7.121 14.121 10z" />
                            </svg>
                        </div>

                        <div>
                            <h3>Editar Perfil</h3>
                            <p>Actualiza tu información personal y mantén tu perfil al día</p>
                        </div>
                    </header>
                    <button type="button" class="btn-edit" (click)="openEditor()">Modificar mis datos</button>
                </section>

                <!-- Tips card -->
                <section class="tips-card">
                    <h3>Consejos</h3>

                    <div class="tip">
                        <div class="tip-icon">
                            <svg viewBox="0 0 24 24" aria-hidden="true">
                                <path d="M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2Zm1 15h-2v-2h2Zm0-4h-2V7h2Z" />
                            </svg>
                        </div>
                        <div class="tip-text">
                            <div class="tip-title">Mantén tu perfil actualizado</div>
                            <div class="tip-sub">Un perfil completo mejora la experiencia</div>
                        </div>
                    </div>

                    <div class="tip">
                        <div class="tip-icon">
                            <svg viewBox="0 0 24 24" aria-hidden="true">
                                <path fill="currentColor"
                                    d="M12 2.5L5 5v6.5c0 4.2 2.9 7.9 7 9 4.1-1.1 7-4.8 7-9V5l-7-2.5z" />
                            </svg>
                        </div>
                        <div class="tip-text">
                            <div class="tip-title">Seguridad</div>
                            <div class="tip-sub">Tu información está protegida</div>
                        </div>
                    </div>
                </section>

                @if (businessSlug()) {
                  <button type="button" class="btn-menu-link" (click)="goToMenu()">
                    <span class="btn-menu-icon">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                           stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 6h18M3 12h18M3 18h18"/>
                        <circle cx="19" cy="6" r="1" fill="currentColor"/>
                        <circle cx="19" cy="12" r="1" fill="currentColor"/>
                        <circle cx="19" cy="18" r="1" fill="currentColor"/>
                      </svg>
                    </span>
                    <span class="btn-menu-text">
                      <strong>Ver mi carta digital</strong>
                      <small>Compartí el menú público de tu negocio</small>
                    </span>
                    <span class="btn-menu-arrow">
                      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                           fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                      </svg>
                    </span>
                  </button>
                }
                
            </aside>
        </div>
    </div>
    @if (showEditor()) {
    <app-employees-update-profile (closed)="closeEditor()" (updated)="refreshInfo()">
    </app-employees-update-profile>
    }
</div>