@if (loading()) {
  <div class="state state-loading">Cargando perfil…</div>
} @else if (error()) {
  <div class="state state-error">{{ error() }}</div>
} @else {
  <section class="profile-card">
    <!-- Cabecera con degradado verde -->
    <div class="profile-hero"></div>

    <!-- Identidad -->
    <div class="identity">
      <div class="avatar" aria-hidden="true">
        <!-- SVG de usuario -->
        <svg viewBox="0 0 24 24" focusable="false">
          <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-4.4 0-9 2.2-9 6v2h18v-2c0-3.8-4.6-6-9-6Z"/>
        </svg>
      </div>

      <div class="identity-text">
        <h2 class="name">{{ fullName() }}</h2>
        <span class="role-badge">{{ roleLabel(employee()?.role) }}</span>
      </div>
    </div>

    <!-- Tarjetas de información -->
    <div class="info-grid">
      <div class="info-tile">
        <div class="icon">
          <!-- mail -->
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 4-8 5L4 8V6l8 5 8-5v2Z"/>
          </svg>
        </div>
        <div class="meta">
          <span class="label">Correo electrónico</span>
          <span class="value">{{ email() }}</span>
        </div>
      </div>

      <div class="info-tile">
        <div class="icon">
          <!-- building -->
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M3 21V7l9-4 9 4v14H3Zm4-2h10v-3H7v3Zm0-5h3v-3H7v3Zm5 0h3v-3h-3v3Zm-5-5h3V7H7v2Zm5 0h3V7h-3v2Z"/>
          </svg>
        </div>
        <div class="meta">
          <span class="label">Trabaja en</span>
          <span class="value">{{ businessName() }}</span>
        </div>
      </div>

      <div class="info-tile">
        <div class="icon">
          <!-- phone -->
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M6.62 10.79a15.1 15.1 0 0 0 6.59 6.59l2.2-2.2a1 1 0 0 1 1.01-.24 11.7 11.7 0 0 0 3.68.59 1 1 0 0 1 1 1V21a1 1 0 0 1-1 1A17 17 0 0 1 3 5a1 1 0 0 1 1-1h3.47a1 1 0 0 1 1 1c0 1.26.2 2.52.59 3.68a1 1 0 0 1-.24 1.01l-2.2 2.1Z"/>
          </svg>
        </div>
        <div class="meta">
          <span class="label">Teléfono</span>
          <span class="value">{{ phone() }}</span>
        </div>
      </div>

      <div class="info-tile">
        <div class="icon">
          <!-- map pin -->
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5Z"/>
          </svg>
        </div>
        <div class="meta">
          <span class="label">Dirección del negocio</span>
          <span class="value">{{ businessAddress() }}</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Bloque inferior -->
   <section class="account-card">
  <header class="account-header">
    <div class="dot"></div>
    <h3>Información de la cuenta</h3>
  </header>

  <div class="account-row">
    <div class="account-col">
      <div class="account-title">Estado de la cuenta</div>
      <div class="account-sub">Tu cuenta está activa y verificada</div>
    </div>
    <span class="pill pill-success">{{ accountStatus() }}</span>
  </div>

  <div class="account-row">
    <div class="account-col">
      <div class="account-title">
        Nivel de acceso
        <span class="level-pill" [class]="'level-pill ' + accessLevelClass()">
          ({{ accessLevelNumber() }})
        </span>
      </div>
      <div class="account-sub">{{ accessSubtitle() }}</div>
    </div>

    <!-- a la derecha: el nombre del rol -->
    <div class="access-badges">
      <span class="role-badge">{{ roleLabel(employee()?.role) }}</span>
    </div>
  </div>
</section>
}
